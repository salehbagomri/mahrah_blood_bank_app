-- ============================================
-- ุญู ูุคูุช: ุชุฌุงูุฒ RLS ููุงุฎุชุจุงุฑ
-- โ๏ธ ุงุณุชุฎุฏู ูุฐุง ููุท ููุงุฎุชุจุงุฑ!
-- ============================================

-- ูุฐุง ุงูุณูุฑูุจุช ูุณูุญ ูุฃู ูุณุชุฎุฏู ูุตุงุฏูู ุนููู ุจุฅุถุงูุฉ ูุณุชุดููุงุช
-- ููุท ูุงุฎุชุจุงุฑ ุฃู ุงููุดููุฉ ูู RLS ูููุณ ูู ููุฏ ุงูุชุทุจูู

-- ============================================
-- ุงูุฎูุงุฑ 1: ุงูุณูุงุญ ููุฌููุน ุจุงูุฅุถุงูุฉ (ูุคูุช)
-- ============================================

DROP POLICY IF EXISTS "hospitals_insert_policy" ON public.hospitals;
DROP POLICY IF EXISTS "Enable insert for admins only" ON public.hospitals;

CREATE POLICY "hospitals_insert_policy_temp"
ON public.hospitals
FOR INSERT
TO authenticated
WITH CHECK (
  true  -- ุงูุณูุงุญ ููุฌููุน ูุคูุชุงู!
);

-- ============================================

SELECT 'โ๏ธ ุชุญุฐูุฑ: ุงูุขู ุฃู ูุณุชุฎุฏู ูุตุงุฏูู ุนููู ููููู ุฅุถุงูุฉ ูุณุชุดููุงุช!' as "ุงูุญุงูุฉ";
SELECT 'โ ุฌุฑุจ ุฅุถุงูุฉ ูุณุชุดูู ุงูุขู' as "ุงูุฎุทูุฉ ุงูุชุงููุฉ";
SELECT '๐ ุฅุฐุง ูุฌุญุชุ ูููุฐ RESTORE_SECURITY.sql ูุงุณุชุนุงุฏุฉ ุงูุฃูุงู' as "ููู";

-- ============================================
-- ูุนูููุงุช
-- ============================================

-- โ ูุชู ุชุณุชุฎุฏู ูุฐุง:
--    - ุนูุฏูุง ุชุฑูุฏ ุงุฎุชุจุงุฑ ุฃู ุงููุดููุฉ ูู RLS ููุท
--    - ุนูุฏูุง FORCE_FIX.sql ูู ูุนูู
--    - ููุงุฎุชุจุงุฑ ุงูุณุฑูุน

-- โ๏ธ ุชุญุฐูุฑ:
--    - ูุฐุง ุบูุฑ ุขูู!
--    - ุฃู ูุณุชุฎุฏู ููููู ุฅุถุงูุฉ ูุณุชุดููุงุช
--    - ุงุณุชุฎุฏูู ููุท ููุงุฎุชุจุงุฑ
--    - ูุง ุชุชุฑูู ูู ุงูุฅูุชุงุฌ!

-- ๐ ุงุณุชุนุงุฏุฉ ุงูุฃูุงู:
--    ุจุนุฏ ุงูุงุฎุชุจุงุฑุ ูููุฐ RESTORE_SECURITY.sql

-- ============================================

